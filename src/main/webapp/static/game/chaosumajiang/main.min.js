window._bd_share_config={common:{bdText:"我在玩《超速麻将》，你敢来挑战我吗？",bdDesc:"我爱h5游戏源码，游戏AND源码，一个也不能少~",bdUrl:"http://www.52h5game.com/game/chaosumajiang/",bdPic:"http://www.52h5game.com/images/logo.png"},share:[{"bdSize":16}],slide:[{bdImg:0,bdPos:"right",bdTop:100}]};with(document){0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion="+~(-new Date()/3600000)]};
var AssetAdapter = function() {
    function i() {}
    var t = (__define, i),
    e = t.prototype;
    return e.getAsset = function(i, t, e) {
        function a(a) {
            t.call(e, a, i)
        }
        if (RES.hasRes(i)) {
            var n = RES.getRes(i);
            n ? a(n) : RES.getResAsync(i, a, this)
        } else RES.getResByUrl(i, a, this, RES.ResourceItem.TYPE_IMAGE)
    },
    i
} ();
egret.registerClass(AssetAdapter, "AssetAdapter", ["eui.IAssetAdapter"]);
var majiang; !
function(i) {
    var t; !
    function(i) {} (t = i.Controllers || (i.Controllers = {}))
} (majiang || (majiang = {}));
var majiang; !
function(i) {
    var t; !
    function(t) {
        var e = function() {
            function t() {}
            var e = (__define, t);
            e.prototype;
            return t.onTapHupai = function(t) {
                i.Controllers.Play.view.hupaiArea.removeMajiang(t),
                i.Datas.Playing.shiyongPai.addPai(t.paiId)
            },
            t.onTapXuanpai = function(t) {
                if (! (i.Controllers.Play.view.hupaiArea.majiangGroup.numChildren >= 11)) {
                    i.Controllers.Play.view.xuanArea.removeMajiang(t),
                    i.Controllers.Play.view.hupaiArea.addMajiang(t),
                    i.Controllers.Play.view.xuanArea.openNextGaipai();
                    var e = i.Datas.Playing.majiangChi.shift();
                    e.setMajingpai(26, "gai", "xuan"),
                    i.Controllers.Play.view.xuanArea.addMajiang(e)
                }
            },
            t.initPlayGameData = function() {
                i.Datas.Playing.allHu = 0,
                i.Datas.Playing.allFan = 0,
                i.Datas.Playing.randomQuePai = Math.floor(3 * Math.random()) + 1,
                i.Datas.Playing.shengyuPai.removeAllPai(),
                i.Datas.Playing.shiyongPai.removeAllPai(),
                i.Datas.Playing.shengyuPai.initPai()
            },
            t.isCanHupai = function(t) {
                i.Controllers.Play.view.isCanHupai(t)
            },
            t.gameOver = function() {
                i.Controllers.GameMain.play.gameOver()
            },
            t.gameStart = function() {
                i.Controllers.GameMain.closeBalance(),
                i.Controllers.GameMain.play.gameStart()
            },
            t
        } ();
        t.Play = e,
        egret.registerClass(e, "majiang.Controllers.Play")
    } (t = i.Controllers || (i.Controllers = {}))
} (majiang || (majiang = {}));
var majiang; !
function(i) {
    var t; !
    function(t) {
        var e = function() {
            function i() {}
            var t = (__define, i);
            t.prototype;
            return i.timeMax = 180,
            i.xuanIndexMax = 7,
            i.majiangChi = [],
            i
        } ();
        t.Playing = e,
        egret.registerClass(e, "majiang.Datas.Playing");
        var a = function() {
            function t() {
                this.chi = []
            }
            var e = (__define, t),
            a = e.prototype;
            return a.initPai = function() {
                this.chi = [];
                for (var t = 1; 10 > t; t++) for (var e = 0; 4 > e; e++) 1 != i.Datas.Playing.randomQuePai && this.chi.push(t + 10),
                2 != i.Datas.Playing.randomQuePai && this.chi.push(t + 20),
                3 != i.Datas.Playing.randomQuePai && this.chi.push(t + 30)
            },
            a.removeAllPai = function() {
                this.chi = []
            },
            a.addPai = function(i) {
                this.chi.push(i)
            },
            a.getPai = function() {
                if (this.chi.length < 1 && (this.chi = i.Datas.Playing.shiyongPai.chi.slice(0), i.Datas.Playing.shiyongPai.chi = []), 1 === this.chi.length) return this.chi.shift();
                var t = Math.floor(Math.random() * this.chi.length);
                return this.chi.splice(t, 1)[0]
            },
            t
        } ();
        t.PaiChi = a,
        egret.registerClass(a, "majiang.Datas.PaiChi")
    } (t = i.Datas || (i.Datas = {}))
} (majiang || (majiang = {}));
var majiang; !
function(i) {
    var t; !
    function(i) {
        i.TIPS = {
            1001 : "牌已满11张，请丢掉不需要的牌！",
            1002 : "",
            pinghu: "平胡 1番",
            dadui: "大对孪 2番",
            qingyise: "清一色 4番",
            andui: "暗对 4番",
            longdui: "龙对 8番",
            shuanglongdui: "双龙寿 16番",
            daiyao: "带幺 8番",
            jiangdui: "将对 8番",
            daigen: "带根 x2"
        }
    } (t = i.Datas || (i.Datas = {}))
} (majiang || (majiang = {}));
var majiang; !
function(i) {
    var t; !
    function(t) {
        var e = function(t) {
            function e() {
                t.call(this),
                this._states = "start",
                this.once(eui.UIEvent.CREATION_COMPLETE, this.skinCreationComplete, this),
                this.skinName = "balanceSkin"
            }
            __extends(e, t);
            var a = (__define, e),
            n = a.prototype;
            return n.getCurrentState = function() {
                return this._states
            },
            n.toStartMain = function() {
                this._states = "start",
                this.invalidateState()
            },
            n.toOverMain = function() {
                this.allFanshu = i.Datas.Playing.allFan,
                this.allHupaishu = i.Datas.Playing.allHu,
                this._states = "over",
                this.invalidateState()
            },
            n.skinCreationComplete = function() {
                this.startBtn.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTapStartBtn, this),
                this.restartBtn.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTapRestartBtn, this)
            },
            n.onTapStartBtn = function() {
                i.Controllers.Play.gameStart()
            },
            n.onTapRestartBtn = function() {
                this.toStartMain()
            },
            e
        } (eui.Component);
        t.Balance = e,
        egret.registerClass(e, "majiang.Views.Balance")
    } (t = i.Views || (i.Views = {}))
} (majiang || (majiang = {}));
var majiang; !
function(i) {
    var t; !
    function(t) {
        var e = function(t) {
            function e() {
                t.call(this)
            }
            __extends(e, t);
            var a = (__define, e),
            n = a.prototype;
            return n.gameStart = function() {
                this.initHupaiArea(),
                i.Controllers.GuideMain.loadGuideScript(1, this.majiangGroup.getChildAt(1))
            },
            n.initHupaiArea = function() {
                this.removeAllMajing(),
                this.randomAllMajiangChi(),
                this.addAllMajiang(),
                this.hupaiCheck()
            },
            n.addAllMajiang = function() {
                for (var t = 0; 11 > t; t++) {
                    var e = i.Datas.Playing.majiangChi.shift();
                    this.addMajiang(e, !1)
                }
            },
            n.removeAllMajing = function() {
                for (var i = this.majiangGroup.numChildren,
                t = 0; i > t; t++) {
                    var e = this.majiangGroup.getChildAt(0);
                    this.removeMajiang(e, !1)
                }
            },
            n.randomAllMajiangChi = function() {
                for (var t = 0; t < i.Datas.Playing.majiangChi.length; t++) {
                    var e = i.Datas.Playing.majiangChi[t];
                    e.setMajingpai(11, "li", "xuan")
                }
            },
            n.removeMajiang = function(t, e) {
                void 0 === e && (e = !0),
                this.majiangGroup.removeChild(t),
                i.Datas.Playing.majiangChi.push(t),
                e && this.hupaiCheck()
            },
            n.addMajiang = function(i, t) {
                void 0 === t && (t = !0),
                i.setForArea("hu"),
                this.addMajiangPlace(i),
                t && this.hupaiCheck()
            },
            n.addMajiangPlace = function(i) {
                if (0 === this.majiangGroup.numChildren) return this.majiangGroup.addChild(i),
                void(i.x = 0);
                for (var t, e = !1,
                a = 0; a < this.majiangGroup.numChildren; a++) {
                    var n = this.majiangGroup.getChildAt(a);
                    i.paiId <= n.paiId && !e && (t = a, e = !0),
                    e && (n.x = i.width * i.scaleX * (a + 1))
                }
                return e ? (this.majiangGroup.addChildAt(i, t), void(i.x = i.width * i.scaleX * t)) : (this.majiangGroup.addChildAt(i, this.majiangGroup.numChildren), void(i.x = i.width * i.scaleX * (this.majiangGroup.numChildren + 1)))
            },
            n.hupai = function() {
                for (var i = 0; i < this.majiangGroup.numChildren; i++) {
                    var t = this.majiangGroup.getChildAt(i);
                    t.hupai()
                }
            },
            n.getPaixing = function() {
                if (null == this.paixing) {
                    this.paixing = {};
                    for (var i = 0; i < this.majiangGroup.numChildren; i++) {
                        var t = this.majiangGroup.getChildAt(i);
                        this.paixing[t.paiId] ? this.paixing[t.paiId]++:this.paixing[t.paiId] = 1
                    }
                }
                var e = {};
                for (var a in this.paixing) e[a] = this.paixing[a];
                return e
            },
            n.hupaiCheck = function() {
                return 11 !== this.majiangGroup.numChildren ? void i.Controllers.Play.isCanHupai(!1) : (this.paixing = null, this.isCanDuizi() ? void i.Controllers.Play.isCanHupai(!0) : this.isCanPinghu() ? void i.Controllers.Play.isCanHupai(!0) : void i.Controllers.Play.isCanHupai(!1))
            },
            n.isCanDuizi = function() {
                var i = this.getPaixing(),
                t = 0,
                e = 0;
                for (var a in i) 2 === i[a] ? t += 1 : 4 === i[a] ? t += 2 : 3 === i[a] && (e += 1);
                return i = null,
                4 === t && 1 === e ? !0 : !1
            },
            n.isCanPinghu = function() {
                var i;
                i = this.getPaixing();
                var t = 0;
                for (var e in i) i[e] >= 2 && t++;
                return t >= 2 && this.check2dui(i) ? !0 : t >= 1 && this.check1dui(i) ? !0 : !1
            },
            n.check2dui = function(i) {
                for (var t in i) if (i[t] >= 2) {
                    if (i[t] -= 2, this.check1dui(i)) return ! 0;
                    i[t] += 2
                }
                return ! 1
            },
            n.check1dui = function(i) {
                for (var t in i) if (i[t] >= 2) {
                    if (i[t] -= 2, this.check3zhang(i)) return ! 0;
                    i[t] += 2
                }
                return ! 1
            },
            n.check3zhang = function(i) {
                var t = {};
                for (var e in i) t[e] = i[e];
                for (var a in t) {
                    if (0 !== t[a]) for (var n = t[a], s = parseInt(a) + 1 + "", r = parseInt(a) + 2 + "", o = 0; n > o; o++) t[a] > 0 && t[s] > 0 && t[r] > 0 && (t[a]--, t[s]--, t[r]--);
                    if (3 === t[a] && (t[a] -= 3), 0 !== t[a]) return ! 1
                }
                return ! 0
            },
            n.getHupaiFanshu = function() {
                var i = !0,
                t = !0,
                e = !0,
                a = 0,
                n = 0,
                s = 0,
                r = 0,
                o = [];
                for (var h in this.paixing) 2 === this.paixing[h] ? (a++, parseInt(h) % 10 !== 1 && parseInt(h) % 10 !== 9 && (t = !1)) : 4 === this.paixing[h] ? (s++, parseInt(h) % 10 !== 1 && parseInt(h) % 10 !== 9 && (t = !1)) : 3 === this.paixing[h] && n++;
                for (var u = 0; u < this.majiangGroup.numChildren; u++) {
                    var l, g = this.majiangGroup.getChildAt(u);
                    l || (l = Math.floor(g.paiId / 10)),
                    Math.floor(g.paiId / 10) != l && i && (i = !1),
                    g.paiId % 10 >= 4 && g.paiId % 10 <= 6 && t ? t = !1 : a + 2 * s === 4 && g.paiId % 10 !== 1 && g.paiId % 10 !== 9 && (t = !1),
                    g.paiId % 10 !== 2 && g.paiId % 10 !== 5 && g.paiId % 10 !== 8 && e && (e = !1)
                }
                return 1 === a && 3 === n && (r += 2, o.push("dadui")),
                i && (r += 4, o.push("qingyise")),
                4 === a && 1 === n && (r += 4, o.push("andui")),
                1 === s && 2 === a && 1 === n && (r += 8, o.push("longdui")),
                2 === s && 1 === n && (r += 16, o.push("shuanglongdui")),
                t && (r += 8, o.push("daiyao")),
                e && (r += 8, o.push("jiangdui")),
                0 === r && (r = 1, o.push("pinghu")),
                s > 0 && (r *= 2 * s, o.push("daigen")),
                {
                    fanshu: r,
                    paixingArr: o
                }
            },
            e
        } (eui.Component);
        t.HupaiArea = e,
        egret.registerClass(e, "majiang.Views.HupaiArea")
    } (t = i.Views || (i.Views = {}))
} (majiang || (majiang = {}));
var Mix; !
function(i) {
    var t; !
    function(i) {
        var t; !
        function(i) {
            var t = function(i) {
                function t() {
                    i.call(this),
                    this.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTouchBeginShow, this),
                    this.addEventListener(egret.TouchEvent.TOUCH_END, this.onTouchOverShow, this),
                    this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE, this.onTouchOverShow, this)
                }
                __extends(t, i);
                var e = (__define, t),
                a = e.prototype;
                return a.onTouchBeginShow = function() {
                    this.scaleX = .8,
                    this.scaleY = .8
                },
                a.onTouchOverShow = function() {
                    this.scaleX = 1,
                    this.scaleY = 1
                },
                t
            } (eui.Button);
            i.Button = t,
            egret.registerClass(t, "Mix.Views.Base.Button")
        } (t = i.Base || (i.Base = {}))
    } (t = i.Views || (i.Views = {}))
} (Mix || (Mix = {}));
var majiang; !
function(i) {
    var t; !
    function(t) {
        var e = function(t) {
            function e(i) {
                t.call(this),
                this.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTapHupai, this)
            }
            __extends(e, t);
            var a = (__define, e),
            n = a.prototype;
            return n.onTapHupai = function() {
                this.isCanHu && i.Controllers.Play.view.hupai()
            },
            e
        } (Mix.Views.Base.Button);
        t.HupaiBtn = e,
        egret.registerClass(e, "majiang.Views.HupaiBtn")
    } (t = i.Views || (i.Views = {}))
} (majiang || (majiang = {}));
var majiang; !
function(i) {
    var t; !
    function(t) {
        var e = function(t) {
            function e() {
                t.call(this),
                this.skinName = "hupaiPaixingSkin",
                this.addEventListener(egret.Event.ADDED, this.addedTween, this)
            }
            __extends(e, t);
            var a = (__define, e),
            n = a.prototype;
            return n.addedTween = function() {
                this.paixingText && (this.textLabel.text = i.Datas.TIPS[this.paixingText]),
                this.bgImg.y = 150,
                egret.Tween.get(this.bgImg).to({
                    y: 0
                },
                200),
                this.textLabel.y = 150,
                egret.Tween.get(this.textLabel).to({
                    y: 0
                },
                200)
            },
            e
        } (eui.Component);
        t.HupaiPaixing = e,
        egret.registerClass(e, "majiang.Views.HupaiPaixing")
    } (t = i.Views || (i.Views = {}))
} (majiang || (majiang = {}));
var majiang; !
function(i) {
    var t; !
    function(t) {
        var e = function(t) {
            function e() {
                t.call(this),
                this._paiState = "gai",
                this._forArea = "",
                this.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTapBtn, this),
                this.addEventListener(egret.Event.ADDED, this.addedToHupaiArea, this)
            }
            __extends(e, t);
            var a = (__define, e),
            n = a.prototype;
            return n.addedToHupaiArea = function() {
                "hu" === this._forArea && this.addHupaiTween()
            },
            n.setMajingpai = function(t, e, a) {
                this.paiId = i.Datas.Playing.shengyuPai.getPai(),
                this.paiIcon.source = this.paiId + "_png",
                this.setForArea(a),
                this._paiState = e,
                this.invalidateState()
            },
            n.setForArea = function(i) {
                this._forArea = i
            },
            n.openGaipai = function() {
                "gai" === this._paiState && (this._paiState = "li", this.setForArea("xuan"), this.invalidateState())
            },
            n.getCurrentState = function() {
                return this._paiState
            },
            n.onTapBtn = function() {
                "gai" !== this._paiState && ("xuan" === this._forArea ? this.xuanpaiTap() : "hu" === this._forArea && this.hupaiTap())
            },
            n.xuanpaiTap = function() {
                i.Controllers.Play.onTapXuanpai(this)
            },
            n.hupaiTap = function() {
                i.Controllers.Play.onTapHupai(this)
            },
            n.hupai = function() {
                this._paiState = "dao",
                this.invalidateState()
            },
            n.addHupaiTween = function() {
                var i = this;
                this.touchEnabled = !1,
                this.bgIcon.top = -30,
                this.bgIcon.bottom = 30,
                this.paiIcon.bottom = 40,
                egret.Tween.get(this.bgIcon).wait(300).to({
                    top: 0,
                    bottom: 0
                },
                200),
                egret.Tween.get(this.paiIcon).wait(300).to({
                    bottom: 10
                },
                200).call(function() {
                    i.touchEnabled = !0
                },
                this)
            },
            e
        } (eui.Button);
        t.MajiangBtn = e,
        egret.registerClass(e, "majiang.Views.MajiangBtn")
    } (t = i.Views || (i.Views = {}))
} (majiang || (majiang = {}));
var majiang; !
function(i) {
    var t; !
    function(t) {
        var e = function(t) {
            function e() {
                t.call(this),
                this.fanshu = 0,
                this.hupaishu = 0,
                i.Controllers.Play.view = this,
                this.once(eui.UIEvent.CREATION_COMPLETE, this.skinCreationComplete, this),
                this.skinName = "playSkin"
            }
            __extends(e, t);
            var a = (__define, e),
            n = a.prototype;
            return n.skinCreationComplete = function() {
                i.Datas.Playing.shengyuPai = new i.Datas.PaiChi,
                i.Datas.Playing.shiyongPai = new i.Datas.PaiChi
            },
            n.gameStart = function() {
                i.Controllers.Play.initPlayGameData(),
                this.fanshu = 0,
                this.hupaishu = 0,
                this.scoreBoard.gameStart(),
                this.hupaiArea.gameStart(),
                this.xuanArea.gameStart()
            },
            n.gameOver = function() {
                this.scoreBoard.timerStop(),
                i.Datas.Playing.allFan = this.fanshu,
                i.Datas.Playing.allHu = this.hupaishu,
                i.Controllers.GameMain.balance.toOverMain(),
                i.Controllers.GameMain.openBalance()
            },
            n.isCanHupai = function(i) {
                i ? (this.hupaiBtn.icon = "huIcon_png", this.hupaiBtn.isCanHu = !0) : (this.hupaiBtn.icon = "not_huIcon_png", this.hupaiBtn.isCanHu = !1)
            },
            n.hupai = function() {
                var i = this,
                t = this.hupaiArea.getHupaiFanshu();
                this.fanshu += t.fanshu,
                this.hupaishu++,
                this.hupaiArea.hupai(),
                egret.Tween.get(this.hupaiArea).wait(2e3).call(function() {
                    i.hupaiArea.initHupaiArea()
                },
                this),
                this.scoreBoard.hupai(t.paixingArr)
            },
            e
        } (eui.Component);
        t.Play = e,
        egret.registerClass(e, "majiang.Views.Play")
    } (t = i.Views || (i.Views = {}))
} (majiang || (majiang = {}));
var majiang; !
function(i) {
    var t; !
    function(t) {
        var e = function(t) {
            function e() {
                t.call(this),
                this.paixingArr = [],
                this.touchChildren = !1,
                this.touchEnabled = !1,
                this.initScoreBoard()
            }
            __extends(e, t);
            var a = (__define, e),
            n = a.prototype;
            return n.initScoreBoard = function() {
                this.timer = new egret.Timer(1e3),
                this.timer.addEventListener(egret.TimerEvent.TIMER, this.timerFunc, this)
            },
            n.timerFunc = function() {
                return i.Datas.Playing.timeSec < 1 ? void i.Controllers.Play.gameOver() : (i.Datas.Playing.timeSec--, void egret.Tween.get(this.timeBit).to({
                    scaleX: 1.2,
                    scaleY: 1.2
                },
                300).to({
                    scaleX: 1,
                    scaleY: 1
                },
                300).call(this.updateTimeBit, this))
            },
            n.updateTimeBit = function() {
                this.timeBit.text = i.Datas.Playing.timeSec + ""
            },
            n.gameStart = function() {
                i.Datas.Playing.timeSec = i.Datas.Playing.timeMax,
                this.updateTimeBit(),
                this.timerStart()
            },
            n.timerStop = function() {
                this.timer.stop()
            },
            n.timerStart = function() {
                this.timer.start()
            },
            n.hupai = function(i) {
                this.hupaiStrArr = i.slice(0),
                this.addAllPaixing()
            },
            n.addAllPaixing = function() {
                var i = this;
                return this.hupaiStrArr.length < 1 ? void egret.Tween.get(this).wait(2e3).call(function() {
                    i.removeAllPaixing()
                },
                this) : void egret.Tween.get(this).wait(200).call(function() {
                    i.paixingGroup.addChild(i.getPaixing(i.hupaiStrArr.shift())),
                    i.addAllPaixing()
                },
                this)
            },
            n.getPaixing = function(t) {
                this.paixingArr.length < 1 && this.paixingArr.push(new i.Views.HupaiPaixing);
                var e = this.paixingArr.shift();
                return e.paixingText = t,
                e
            },
            n.removeAllPaixing = function() {
                for (var i = 0; i < this.paixingGroup.numChildren; i++) {
                    var t = this.paixingGroup.getChildAt(i);
                    this.paixingArr.push(t)
                }
                this.paixingGroup.removeChildren()
            },
            e
        } (eui.Component);
        t.ScoreBoard = e,
        egret.registerClass(e, "majiang.Views.ScoreBoard")
    } (t = i.Views || (i.Views = {}))
} (majiang || (majiang = {}));
var majiang; !
function(i) {
    var t; !
    function(t) {
        var e = function(t) {
            function e(i) {
                t.call(this)
            }
            __extends(e, t);
            var a = (__define, e),
            n = a.prototype;
            return n.initXuanArea = function() {
                for (var t = i.Datas.Playing.xuanIndexMax,
                e = 0; e < this.paiGroup.numChildren; e++) {
                    var a = this.paiGroup.getChildAt(e);
                    e >= t ? a.setMajingpai(0, "gai", "xuan") : a.setMajingpai(22, "li", "xuan")
                }
            },
            n.gameStart = function() {
                this.initXuanArea()
            },
            n.removeMajiang = function(i) {
                this.paiGroup.removeChild(i)
            },
            n.addMajiang = function(i) {
                this.paiGroup.addChild(i)
            },
            n.openNextGaipai = function() {
                for (var i = 0; i < this.paiGroup.numChildren; i++) {
                    var t = this.paiGroup.getChildAt(i);
                    if ("gai" === t.getCurrentState()) return void t.openGaipai()
                }
            },
            e
        } (eui.Component);
        t.XuanArea = e,
        egret.registerClass(e, "majiang.Views.XuanArea")
    } (t = i.Views || (i.Views = {}))
} (majiang || (majiang = {}));
var LoadingUI = function(i) {
    function t() {
        i.call(this),
        this.createView()
    }
    __extends(t, i);
    var e = (__define, t),
    a = e.prototype;
    return a.createView = function() {
        this.textField = new egret.TextField,
        this.addChild(this.textField),
        this.textField.y = 300,
        this.textField.width = 480,
        this.textField.height = 100,
        this.textField.textAlign = "center"
    },
    a.setProgress = function(i, t) {
        this.textField.text = "Loading..." + i + "/" + t
    },
    t
} (egret.Sprite);
egret.registerClass(LoadingUI, "LoadingUI");
var Main = function(i) {
    function t() {
        i.apply(this, arguments),
        this.isThemeLoadEnd = !1,
        this.isResourceLoadEnd = !1
    }
    __extends(t, i);
    var e = (__define, t),
    a = e.prototype;
    return a.createChildren = function() {
        i.prototype.createChildren.call(this),
        Mix.GameStartUp.pingmupeishi();
        var t = new AssetAdapter;
        this.stage.registerImplementation("eui.IAssetAdapter", t),
        this.stage.registerImplementation("eui.IThemeAdapter", new ThemeAdapter),
        this.loadingView = new LoadingUI,
        this.stage.addChild(this.loadingView),
        RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE, this.onConfigComplete, this),
        RES.loadConfig("resource/default.res.json", "resource/")
    },
    a.onConfigComplete = function(i) {
        RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE, this.onConfigComplete, this);
        var t = new eui.Theme("resource/default.thm.json", this.stage);
        t.addEventListener(eui.UIEvent.COMPLETE, this.onThemeLoadComplete, this),
        RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE, this.onResourceLoadComplete, this),
        RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR, this.onResourceLoadError, this),
        RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS, this.onResourceProgress, this),
        RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, this.onItemLoadError, this),
        RES.loadGroup("preload")
    },
    a.onThemeLoadComplete = function() {
        this.isThemeLoadEnd = !0,
        this.createScene()
    },
    a.onResourceLoadComplete = function(i) {
        "preload" == i.groupName && (this.stage.removeChild(this.loadingView), RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE, this.onResourceLoadComplete, this), RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR, this.onResourceLoadError, this), RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS, this.onResourceProgress, this), RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, this.onItemLoadError, this), this.isResourceLoadEnd = !0, this.createScene())
    },
    a.createScene = function() {
        this.isThemeLoadEnd && this.isResourceLoadEnd && this.startCreateScene()
    },
    a.onItemLoadError = function(i) {
        console.warn("Url:" + i.resItem.url + " has failed to load")
    },
    a.onResourceLoadError = function(i) {
        console.warn("Group:" + i.groupName + " has failed to load"),
        this.onResourceLoadComplete(i)
    },
    a.onResourceProgress = function(i) {
        "preload" == i.groupName && (this.loadingView.setProgress(i.itemsLoaded, i.itemsTotal), egret_4399_h5api.progress(i.itemsLoaded / i.itemsTotal * 100))
    },
    a.startCreateScene = function() {
        majiang.Controllers.StageMain = this,
        majiang.Controllers.GuideMain = new Mix.Views.Guide,
        this.addChild(majiang.Controllers.GuideMain),
        majiang.Controllers.GameMain = new Mix.Views.Main,
        this.addChild(majiang.Controllers.GameMain)
    },
    t
} (eui.UILayer);
egret.registerClass(Main, "Main");
var Mix; !
function(i) {
    i.isEsa = !1;
    var t = function() {
        function i() {}
        var t = (__define, i);
        t.prototype;
        return i.pingmupeishi = function() {
            egret_4399_h5api.initGame(100047024, "超速麻将-我爱h5游戏源码", 1024, 600)
        },
        i.dataeyeInit = function() {
            if (window.location.href.indexOf("192.168") >= 0 || window.location.href.indexOf("file") >= 0) console.log("内网测试");
            else {
                var i = "http://sdk.talkingdata.com/g/h5/v1/DCFF628C3B6A4FAA946CD5B9D29FDD21";
                document.write("<script src='" + i + "'></script>")
            }
        },
        i
    } ();
    i.GameStartUp = t,
    egret.registerClass(t, "Mix.GameStartUp")
} (Mix || (Mix = {}));
var Mix; !
function(i) {
    var t; !
    function(i) {
        var t = function(i) {
            function t(t) {
                i.call(this),
                this.once(eui.UIEvent.CREATION_COMPLETE, this.initCreationComplete, this),
                t && (this.skinName = t)
            }
            __extends(t, i);
            var e = (__define, t),
            a = e.prototype;
            return a.initCreationComplete = function() {
                this.width = this.stage.stageWidth,
                this.height = this.stage.stageHeight
            },
            a.openView = function() {
                majiang.Controllers.StageMain.addChild(this)
            },
            a.closeView = function() {
                this.parent.removeChild(this)
            },
            t
        } (eui.Component);
        i.BaseViews = t,
        egret.registerClass(t, "Mix.Views.BaseViews")
    } (t = i.Views || (i.Views = {}))
} (Mix || (Mix = {}));
var Mix; !
function(Mix) {
    var Views; !
    function(Views) {
        var Guide = function(_super) {
            function Guide() {
                _super.call(this, "GuideSkin")
            }
            __extends(Guide, _super);
            var d = __define,
            c = Guide,
            p = c.prototype;
            return p.initCreationComplete = function() {
                _super.prototype.initCreationComplete.call(this),
                this._targetGlobalPos = new egret.Point,
                this._oldGlobalPos = new egret.Point,
                this.closeView()
            },
            p.loadGuideScript = function(id, targetObj) {
                this.guideId = id,
                this.findGuideComplete() || (this._targetObj = targetObj, this.scriptObj = eval(RES.getRes("guide_" + id + "_js")), this._targetObj.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTargetArea, this), this.onLoadGuideScript())
            },
            p.onLoadGuideScript = function() {
                this.openView(),
                this.scriptObj.startFunc(),
                this._targetGlobalPos = this._targetObj.parent.localToGlobal(this._targetObj.x, this._targetObj.y),
                this.setRect(this._targetGlobalPos.x, this._targetGlobalPos.y, this._targetObj.width, this._targetObj.height),
                this.scriptObj.guideLabel && "" !== this.scriptObj.guideLabel ? (this.guideLabel.text = this.scriptObj.guideLabel, this.guideLabel.x = this.scriptObj.guideLabelPos.x, this.guideLabel.y = this.scriptObj.guideLabelPos.y, this.guideLabel.visible = !0) : this.guideLabel.visible = !1,
                this.scriptObj.guideImg && "" !== this.scriptObj.guideImg ? (this.guideImg.source = this.scriptObj.guideImg, this.guideImg.x = this.scriptObj.guideImgPos.x, this.guideImg.y = this.scriptObj.guideImgPos.y, this.guideImg.visible = !0) : this.guideImg.visible = !1
            },
            p.setRect = function(i, t, e, a) {
                e *= this._targetObj.scaleX,
                a *= this._targetObj.scaleY,
                i -= this._targetObj.anchorOffsetX,
                t -= this._targetObj.anchorOffsetY,
                this.topRect.top = 0,
                this.topRect.left = 0,
                this.topRect.right = 0,
                this.topRect.bottom = this.height - t,
                this.leftRect.top = t,
                this.leftRect.left = 0,
                this.leftRect.right = this.width - i,
                this.leftRect.bottom = this.height - t - a,
                this.rightRect.top = t,
                this.rightRect.left = i + e,
                this.rightRect.right = 0,
                this.rightRect.bottom = this.leftRect.bottom,
                this.bottomRect.top = t + a,
                this.bottomRect.left = 0,
                this.bottomRect.right = 0,
                this.bottomRect.bottom = 0
            },
            p.onTouchTargetArea = function(i) {
                this._targetObj.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTargetArea, this),
                this.setGuideComplete(),
                this.closeView(),
                this.scriptObj.onTapFunc()
            },
            p.setGuideComplete = function() {
                var i = egret.localStorage.getItem("majiang_GuideCompleteList");
                i ? i += "," + this.guideId: i = "" + this.guideId,
                egret.localStorage.setItem("majiang_GuideCompleteList", i)
            },
            p.findGuideComplete = function() {
                var i = egret.localStorage.getItem("majiang_GuideCompleteList");
                return i ? i.indexOf(this.guideId.toString()) < 0 ? !1 : !0 : !1
            },
            Guide
        } (Mix.Views.BaseViews);
        Views.Guide = Guide,
        egret.registerClass(Guide, "Mix.Views.Guide")
    } (Views = Mix.Views || (Mix.Views = {}))
} (Mix || (Mix = {}));
var Mix; !
function(i) {
    var t; !
    function(t) {
        var e = function(i) {
            function t() {
                i.call(this)
            }
            __extends(t, i);
            var e = (__define, t),
            a = e.prototype;
            return a.initCreationComplete = function() {
                i.prototype.initCreationComplete.call(this)
            },
            a.loadGroup = function(i) {
                RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE, this.onResourceLoadComplete, this),
                RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR, this.onResourceLoadError, this),
                RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS, this.onResourceProgress, this),
                RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, this.onItemLoadError, this),
                RES.loadGroup(i)
            },
            a.onItemLoadError = function(i) {
                console.warn("Url:" + i.resItem.url + " has failed to load")
            },
            a.onResourceLoadError = function(i) {
                console.warn("Group:" + i.groupName + " has failed to load"),
                this.onResourceLoadComplete(i)
            },
            a.onResourceProgress = function(i) {
                this.setLoadProgress(i.itemsLoaded, i.itemsTotal)
            },
            a.onResourceLoadComplete = function(i) {
                RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE, this.onResourceLoadComplete, this),
                RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR, this.onResourceLoadError, this),
                RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS, this.onResourceProgress, this),
                RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, this.onItemLoadError, this),
                this.loadGroupComplete()
            },
            a.setLoadProgress = function(i, t) {},
            a.loadGroupComplete = function() {},
            t
        } (i.Views.BaseViews);
        t.Loading = e,
        egret.registerClass(e, "Mix.Views.Loading")
    } (t = i.Views || (i.Views = {}))
} (Mix || (Mix = {}));
var Mix; !
function(i) {
    var t; !
    function(t) {
        var e = function(i) {
            function t() {
                i.call(this)
            }
            __extends(t, i);
            var e = (__define, t),
            a = e.prototype;
            return a.initCreationComplete = function() {
                i.prototype.initCreationComplete.call(this),
                this.loginBtn.visible = !0,
                this.onTouchLoginBtn()
            },
            a.onTouchLoginBtn = function() {
                this.loginBtn.visible = !1
            },
            t
        } (i.Views.BaseViews);
        t.Login = e,
        egret.registerClass(e, "Mix.Views.Login")
    } (t = i.Views || (i.Views = {}))
} (Mix || (Mix = {}));
var Mix; !
function(i) {
    var t; !
    function(t) {
        var e = function(i) {
            function t() {
                i.call(this),
                this.play = new majiang.Views.Play,
                this.balance = new majiang.Views.Balance,
                this.addChild(this.play),
                this.addChild(this.balance)
            }
            __extends(t, i);
            var e = (__define, t),
            a = e.prototype;
            return a.initCreationComplete = function() {
                i.prototype.initCreationComplete.call(this)
            },
            a.gotoLayer = function(i) {},
            a.closeBalance = function() {
                this.balance.visible = !1,
                this.balance.touchChildren = !1,
                this.play.touchChildren = !0
            },
            a.openBalance = function() {
                this.balance.visible = !0,
                this.balance.touchChildren = !0,
                this.play.touchChildren = !1
            },
            t
        } (i.Views.BaseViews);
        t.Main = e,
        egret.registerClass(e, "Mix.Views.Main")
    } (t = i.Views || (i.Views = {}))
} (Mix || (Mix = {}));
var ThemeAdapter = function() {
    function i() {}
    var t = (__define, i),
    e = t.prototype;
    return e.getTheme = function(i, t, e, a) {
        function n(i) {
            t.call(a, i)
        }
        function s(t) {
            t.resItem.url == i && (RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, s, null), e.call(a))
        }
        RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR, s, null),
        RES.getResByUrl(i, n, this, RES.ResourceItem.TYPE_TEXT)
    },
    i
} ();
egret.registerClass(ThemeAdapter, "ThemeAdapter", ["eui.IThemeAdapter"]);